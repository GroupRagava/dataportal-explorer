script
		//var markers = new L.MarkerClusterGroup(/*{ disableClusteringAtZoom: 15 }*/);
		/*var occurrences = !{data};
		$.each(occurrences, function(i, occurrence) {
			var marker = new L.Marker(new L.LatLng(occurrence.latitude, occurrence.longitude), { title: occurrence.canonical + ' (' + occurrence.num_occurrences + ')' });
			marker.bindPopup(occurrence.canonical + ' ' + occurrence.num_occurrences);
			markers.addLayer(marker);
		});*/
		/*var seen = [];
		var json = JSON.stringify(markers, function(key, val) {
			if (typeof val == "object") {
				if (seen.indexOf(val) >= 0)
					return;
				seen.push(val);
			}
			return val
		});*/

		/*var sopas = map.addLayer(markers);*/

		/*var anotherLayers = {
			'Puntos densidad': map.addLayer(markers)
		}
		L.control.layers(anotherLayers).addTo(map);*/

res.render('index', { title: 'Explorador - Portal de datos SIB Colombia', data: JSON.stringify(rows) });


dbWrapper.initConnection();
	dbWrapper.getAllGeoOccurrenceData(function(rows) {
		//res.writeHead(200, {'Content-Type':'application/json'});
		//res.write(JSON.stringify(rows));
		//res.end();
		//var sopas = 'sopas';
		//var cluster = markercluster.markerClusterGroup();
		var cluster = serverCluster.markerClusterGroup();
		for (var i = 0; i < rows.length; i++) {
			//occurrence = rows[i];
			//console.log(latLong);
			//console.log(JSON.stringify(latLong));
			var marker = serverCluster.marker(serverCluster.latLng(rows[i].latitude, rows[i].longitude), { title: rows[i].canonical + ' (' + rows[i].num_occurrences + ')' });
			marker.bindPopup(rows[i].canonical + ' (' + rows[i].num_occurrences + ')');
			var finalCluster = cluster.createCluster();
			//console.log(marker);
			//var seen = [];
			//var json = JSON.stringify(marker, function(key, val) {
			//	if (typeof val 
			//		if (seen.indexOf(val) >= 0)
			//			return;
			//		seen.push(val);
			//	}
			//	return val;
			//});
			//console.log(json);
			cluster.addLayer(marker);

			//console.log(cluster);
		}
		//var myCars=new Array("Saab",23,"BMW");
		//console.log(myCars);
		//
		//var latlong = new cluster.L.LatLng(occurrence.latitude, occurrence.longitude)
		
		//console.log(cluster);

		res.render('index', { title: 'Explorador - Portal de datos SIB Colombia' });
	});
	dbWrapper.closeConnection();
	//res.render('index', { title: 'Explorador - Portal de datos SIB Colombia' });

	// Sinatra inspired MVC backend framework
	// High order functions and common patterns for asynchronous code
	// Robust, expressive, and feature-rich CSS superset
	// Jade template engine
	// A library for promises (CommonJS/Promises/A,B,D)
	// Driver for mysql without asynchronous support
	// Native driver for MongoDB document database
	// MongoDB (ODM) hey! not ORM Because its'n relational!
	// Multi-transport (console, file, network) async logging library
	// All browser WebSockets specification support. Socket.io degrades to XHR in old browsers.
	// JavaScript library for mobile-friendly interactive maps.
	// Provides Beautiful Animated Marker Clustering functionality for Leaflet
	// JavaScript's functional programming helper library
	// Browser-side require() like node

	// Super-agent driven library for testing HTTP servers
	// Test framework agnostic BDD (Behavior Driven Development) style assertions
	// Simple test framework
	// Simple monitor script for use during development of a node.js app